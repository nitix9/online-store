import{_,a as m}from"./DZeuuCNf.js";import{_ as p,P as g,c as o,b as h,a as t,n as f,t as n,F as b,o as i}from"./KRDrTB3T.js";import{u as v}from"./DCwee4jJ.js";import"./BexCFbYm.js";const d=v(),k={data(){return{current_data:null,course_item:null}},mounted(){this.getCurrentProduct(),this.getCourse()},methods:{addToCart(r){d.addCart(r)},getNowInCart(r){var a,c;const s=(a=d.cart)==null?void 0:a.find(e=>e.item.id==r.id);return!!((c=s==null?void 0:s.item)!=null&&c.id)},getCurrentProduct(){fetch(`https://fakestoreapi.com/products/${(this._.provides[g]||this.$route).params.id}`).then(r=>r.json()).then(r=>{this.current_data=r,console.log(this.current_data)})},getCourse(){fetch("https://www.cbr-xml-daily.ru/daily_json.js").then(r=>r.json()).then(r=>{this.course_item=Math.round(r.Valute.USD.Value)})}}},y={key:0,class:"load"},C={key:1,class:"container-item"},S={class:"content-container"},w={class:"item-about"},j={class:"title-item"},B={class:"category-item"},N={class:"item-desc"},P={class:"item-rating"},V={class:"count-rating"},x={class:"rate-rating"},z={class:"item-price"},D={class:"cart-button"},F={key:1,style:{"background-color":"#679cff"}};function I(r,s,a,c,e,u){const l=m;return i(),o(b,null,[h(l),!e.current_data||!e.course_item?(i(),o("div",y,s[1]||(s[1]=[t("p",null,"Загрузка...",-1)]))):(i(),o("div",C,[t("div",S,[t("div",{class:"item-pict",style:f(`background:linear-gradient(45deg, rgba(0,0,0,0.1) 97%,rgba(0,0,0,0.1) 99%,rgba(0,0,0,0) 100%),url(${e.current_data.image});background-repeat: no-repeat;background-size: contain;background-position: center; `)},null,4),t("div",w,[t("div",j,[t("h2",null,n(e.current_data.title),1)]),t("div",B,[t("p",null,"Категория: "+n(e.current_data.category),1)]),t("div",N,[t("p",null,n(e.current_data.description),1)]),t("div",P,[t("div",V,[t("p",null,n(e.current_data.rating.count)+" оценок",1)]),t("div",x,[s[2]||(s[2]=t("img",{src:_},null,-1)),t("p",null,n(e.current_data.rating.rate),1)])]),t("div",z,[t("p",null,n(Math.round(e.current_data.price*e.course_item).toLocaleString("ru-RU"))+" ₽",1)]),t("div",D,[u.getNowInCart(e.current_data)?(i(),o("button",F,"В корзине")):(i(),o("button",{key:0,onClick:s[0]||(s[0]=M=>{u.addToCart(e.current_data),r.isHiden=!0})},"В корзину"))])])])]))],64)}const H=p(k,[["render",I]]);export{H as default};
