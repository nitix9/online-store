import{u as m}from"./DCwee4jJ.js";import{_ as v,o as n,c as s,a as t,n as y,t as l,m as _,d as C,F as h,p as k,q as f}from"./KRDrTB3T.js";const d=m(),S={props:["arrCart","courseCart"],methods:{delCartItem(a){d.deleteItem(a)},addOne(a){d.addOneItem(a)},delOne(a){d.delOneItem(a)}}},x={class:"cartit-cont"},q={class:"cartit-wrapper"},O={class:"pictcart-container"},w={class:"aboutit-cart"},A={class:"itcart-title"},I={class:"itprice"},V={class:"butt-container"},B={class:"quantity-container"},F={key:1,style:{"background-color":"#A6C5FF"}},j={class:"del-container"};function z(a,r,e,g,o,i){return n(),s("div",x,[t("div",q,[t("div",O,[t("div",{class:"itcart-pict",style:y(`background:linear-gradient(45deg, rgba(0,0,0,0.1) 97%,rgba(0,0,0,0.1) 99%,rgba(0,0,0,0) 100%),url(${e.arrCart.item.image});background-repeat: no-repeat;background-size: contain;background-position: center; `)},null,4)]),t("div",w,[t("div",A,l(e.arrCart.item.title),1),t("div",I,[t("p",null,l(Math.round(+e.arrCart.item.price*e.courseCart*e.arrCart.quantity).toLocaleString("ru-RU"))+" ₽",1)])]),t("div",V,[t("div",B,[e.arrCart.quantity>1?(n(),s("button",{key:0,onClick:r[0]||(r[0]=c=>i.delOne(e.arrCart))},"-")):_("",!0),r[3]||(r[3]=C()),e.arrCart.quantity==1?(n(),s("button",F,"-")):_("",!0),t("p",null,l(e.arrCart.quantity),1),r[4]||(r[4]=C()),t("button",{onClick:r[1]||(r[1]=c=>i.addOne(e.arrCart))},"+")]),t("div",j,[t("button",{onClick:r[2]||(r[2]=c=>i.delCartItem(e.arrCart))},"Удалить")])])])])}const L=v(S,[["render",z]]),u=m(),M={data(){return{arrCart:null,course_cart:null}},mounted(){u.initializeStore(),this.arrCart=u.cart,this.getCourseCart()},methods:{getAllCount(){return u.cartCount},getAllPrice(a){return a.reduce((r,e)=>r+Math.round(e.item.price*this.course_cart*e.quantity),0)},getCourseCart(){fetch("https://www.cbr-xml-daily.ru/daily_json.js").then(a=>a.json()).then(a=>{this.course_cart=Math.round(a.Valute.USD.Value)})}}},N={key:0,class:"load"},U={key:1,class:"allcart-container"},$={class:"cartit-container"},D={class:"allinf-wrapper"},P={class:"all-container"},R={class:"all-inf"},E={class:"count-prod"},T={class:"count-prod__count"},G={class:"all-price"},H={class:"all-price__price"};function J(a,r,e,g,o,i){const c=L;return n(),s("div",null,[r[4]||(r[4]=t("div",{class:"title-cart"},[t("h2",null,"Корзина")],-1)),!o.arrCart||!o.course_cart?(n(),s("div",N,r[0]||(r[0]=[t("p",null,"Загрузка...",-1)]))):(n(),s("div",U,[t("div",$,[(n(!0),s(h,null,k(o.arrCart,(p,b)=>(n(),f(c,{"arr-cart":p,"course-cart":o.course_cart,key:b},null,8,["arr-cart","course-cart"]))),128))]),t("div",D,[t("div",P,[t("div",R,[t("div",E,[r[1]||(r[1]=t("div",{class:"count-prod__title"},[t("p",null,"Товары")],-1)),t("div",T,[t("p",null,l(i.getAllCount())+" шт.",1)])]),t("div",G,[r[2]||(r[2]=t("div",{class:"all-price__title"},[t("p",null,"Итого")],-1)),t("div",H,[t("p",null,l(i.getAllPrice(o.arrCart).toLocaleString("ru-RU"))+" ₽",1)])])]),r[3]||(r[3]=t("div",{class:"butt-buy"},[t("button",null,"Оформить")],-1))])])]))])}const W=v(M,[["render",J]]);export{W as default};
